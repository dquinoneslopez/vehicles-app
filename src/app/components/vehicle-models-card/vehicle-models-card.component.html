<mat-card class="vehicle-list-card">
  <mat-card-header>
    <div class="card-header-content">
      <mat-card-title class="nested-card-title">Vehicle Models</mat-card-title>
      <span class="item-counter"
        >({{ (vehicleModels$ | async)?.length || 0 }})</span
      >
    </div>
  </mat-card-header>

  <mat-card-content>
    @if (loading$ | async) {
    <div class="loading-container">
      <mat-spinner diameter="30"></mat-spinner>
      <p>Loading vehicle models...</p>
    </div>
    } @else if ((vehicleModels$ | async)?.length === 0) {
    <div class="no-results">
      <mat-icon>info</mat-icon>
      <p>No vehicle models found for this brand.</p>
    </div>
    } @else {
    <!-- Virtual scrolling viewport for mat-list -->
    <cdk-virtual-scroll-viewport itemSize="56" class="viewport">
      <mat-list>
        <mat-list-item
          *cdkVirtualFor="
            let model of vehicleModels$ | async;
            trackBy: trackByVehicleModel
          "
          class="vehicle-item"
        >
          <mat-icon matListItemIcon>directions_car</mat-icon>
          <div matListItemTitle>{{ model.Model_Name }}</div>
          <div matListItemLine>ID: {{ model.Model_ID }}</div>
        </mat-list-item>
      </mat-list>
    </cdk-virtual-scroll-viewport>
    }
  </mat-card-content>
</mat-card>
